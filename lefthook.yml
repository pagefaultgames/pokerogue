pre-commit:
  skip: 
    - merge
    - rebase
  commands:
    biome-lint:
      run: pnpm exec biome check --write --reporter=summary --staged --no-errors-on-unmatched
      stage_fixed: true
    ls-lint:
      run: pnpm exec ls-lint

post-merge:
  commands:
    update-submodules:
      run: git submodule update --init --recursive

post-checkout:
  commands:
    update-submodules:
      # cf https://git-scm.com/docs/githooks#_post_checkout:
      # The 3rd argument is 1 for branch checkouts and 0 for file checkouts.
      run: if test {3} -eq "1"; then git submodule update --init --recursive; fi