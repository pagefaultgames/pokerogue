# SPDX-FileCopyrightText: 2024-2025 Pagefault Games
#
# SPDX-License-Identifier: AGPL-3.0-only

pre-commit:
  skip:
    - merge
    - rebase
  commands:
    biome-lint:
      # Disable colors as certain IDEs don't support it in the output pane.
      # Summary mode looks decent in plain ASCII anyhow
      run: pnpm exec biome check --write --colors=off --reporter=summary --staged --no-errors-on-unmatched --diagnostic-level=error
      stage_fixed: true
    ls-lint:
      run: pnpm exec ls-lint

post-merge:
  commands:
    update-submodules:
      run: pnpm update-submodules